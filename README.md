# brain2doc

### パラメータの指定方法

```
<b>--url</>
    APIのURLを指定する（デフォルトは"https://api.openai.com/v1/chat/completions"）

<b>--model</>           
    gptのモデルを指定する（デフォルトは"gpt-4"）

<b>--apikey</>
    APIキーを指定する（指定がない場合は環境変数"OPENAI_API_KEY"より取得）

<b>--resource</>
    入力となるリソースの種別を指定する（デフォルトは"others"）
    以下の種別あり
    <b>java</>   : Javaのソースコード（拡張子".java"が対象）
    <b>js</>     : JavaScriptのソースコード（拡張子".js"が対象）
    <b>python</> : Pythonのソースコード（拡張子".py"が対象）
    <b>sql</>    : SQLコード（拡張子".sql"が対象）
    <b>page</>   : ページファイル（拡張子"page", ".html", ".htm", ".xhtml", ".jsp"が対象）
    <b>shell</>  : シェルスクリプト（拡張子".sh", ".bash", ".ksh", ".bash"が対象）
    <b>others</> : 上記以外の汎用的なリソース

<b>--gen</>
    リソースから何を生成したいかを指定する（"--gen"か"--gen-table"の2つは指定不可）
    以下の種別あり
    <b>spec</>    : 仕様書
    <b>summary</> : サマリー
    <b>review</>  : レビュー結果・改善提案
    <b>er</>      : E-R図（リソースがsqlの場合のみ）
    <b>others</>  : 上記以外の汎用的な出力（"--gen"、"--gen-table"の指定がなかった場合のデフォルト）

<b>--gen-table</>
    リソースから何かの一覧を生成したい場合、その名前を指定する（"--gen"か"--gen-table"の2つは指定不可）

<b>--fields</>
    リソースから一覧を生成する場合、その列名を列挙する（"--gen-table"の場合は指定必須）

<b>--output-scale</>
	出力結果の大きさ（目安）を指定する（デフォルトは"nolimit"）
    <b>small</>    : スモールサイズ（50文字程度）
    <b>medium</>   : ミディアムサイズ（200文字程度）
    <b>large</>    : ラージサイズ（500文字程度）
    <b>nolimit</>  : 制限なし

<b>--src</>
    読み込み対象となるソースのファイルまたはディレクトリを指定する（<r>指定必須</>）
    ディレクトリを指定すると、再帰的にファイルを一括処理する
    ZIPファイルを指定した場合も、ファイル内を再帰的に処理する

<b>--regex</>
    読み込み対象となるソースを絞り込むための正規表現文字列を指定する（任意指定）

<b>--dest</>
    出力するマークダウンファイルのディレクトリ名またはファイル名をフルパスで指定する
    ディレクトリ名を指定した場合は、デフォルトのファイル名は"brain2doc-{リソース名}-{出力種別名}-{yMMddHHmmss}.md"
    （例："brain2doc-java-review-20230924104914.md"）
    このオプションの指定がなかった場合は、ソースファイルと同じディレクトに、デフォルトのファイル名で出力される

<b>--lang</>
    入出力する言語を指定する（デフォルトは日本語）
    <b>ja</>  : 日本語
    <b>en</>  : 英語

<b>--template</>
    任意のテンプレートファイルをフルパスで指定する（任意指定）
    デフォルトのテンプレートファイルと、差分のみが上書きされる

<b>--proxyURL</>
    API呼び出しを行うときのプロキシサーバーのURLを指定する

<b>--connect-timeout</>
    API呼び出しにおける接続タイムアウト時間を秒で指定する（デフォルトは10秒）

<b>--timeout</>
    API呼び出しにおける読み込みタイムアウト時間を秒で指定する（デフォルトは300秒）

<b>--retry-count</>
    API呼び出しで読み込みタイムアウトが発生した場合の、最大リトライ回数を指定する（デフォルトは3回）

<b>--retry-interval</>
    API呼び出しで読み込みタイムアウトが発生した場合の、リトライ間隔を秒で指定する（デフォルトは60秒）

<b>--auto-split</>
    このオプションを指定すると、1回のAPI呼び出しがトークンリミットに達した場合に、自動的に適切なサイズに分割して再送するモードに切り替わる
    指定がなかった場合は当該ソースをスキップする

```
